<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>RongChain ç™»å½•ï¼ˆv1.62ï¼‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="ver">v1.62</div>
  <div class="topver">æœ€é«˜ç‰ˆæœ¬ï¼šv1.62</div>

  <div class="content">
    <h1>RongChain DApp ç™»å½•</h1>
    <button id="connectBtn">ðŸ”— è¿žæŽ¥é’±åŒ…</button>
    <div id="walletInfo" class="muted">å°šæœªè¿žæŽ¥</div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script>
    async function connectWallet(){
      if(window.ethereum){
        try{
          const accounts = await window.ethereum.request({ method:"eth_requestAccounts" });
          const addr = accounts[0];
          localStorage.setItem("walletAddress", addr);
          document.getElementById("walletInfo").innerText = "å·²è¿žæŽ¥: " + addr;
          window.location.href="home.html";
        }catch(err){
          alert("è¿žæŽ¥å¤±è´¥: " + err.message);
        }
      }else{
        alert("è¯·å®‰è£… MetaMask æˆ–å…¼å®¹é’±åŒ…");
      }
    }
    document.getElementById("connectBtn").onclick = connectWallet;
  </script>
</body>
</html>
