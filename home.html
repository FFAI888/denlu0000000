<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>RongChain 首页（v1.56）</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="ver">v1.56</div>
  <div class="topver">最高版本：v1.56</div>

  <div class="content">
    <h1>RongChain 首页</h1>
    <div id="wallet" class="muted">钱包地址: 检测中...</div>

    <div class="box">
      <div class="label">地址检测状态</div>
      <div id="addressStatus" class="muted">正在检测中...</div>
    </div>

    <div class="row">
      <div class="box">
        <div class="label">RongChain 余额</div>
        <div id="balance" class="muted">检测中...</div>
      </div>
      <div class="box">
        <div class="label">CRC 余额</div>
        <div id="crcBalance" class="muted">检测中...</div>
      </div>
    </div>

    <div class="box">
      <div class="label">刷新间隔设置</div>
      <div class="refresh-buttons" id="refreshBtns">
        <button onclick="setRefresh(1000)" id="r1000">1 秒</button>
        <button onclick="setRefresh(3000)" id="r3000">3 秒</button>
        <button onclick="setRefresh(5000)" id="r5000">5 秒</button>
        <button onclick="setRefresh(10000)" id="r10000">10 秒</button>
      </div>
      <div class="muted">当前刷新间隔: <span id="curInterval"></span></div>
    </div>

    <div class="row">
      <div class="box">
        <div class="label">RongChain / USDT 现价</div>
        <div id="price" class="muted">加载中...</div>
      </div>
      <div class="box">
        <div class="label">RongChain / CRC 现价（推导 USDT）</div>
        <div id="crcPrice" class="muted">加载中...</div>
      </div>
    </div>

    <!-- RONG/USDT 图表 -->
    <div class="box">
      <div class="label">RongChain 实时行情图（RONG/USDT）</div>
      <div class="timeframe-buttons" id="rfBtns">
        <button onclick="switchRongTF(1)" id="rbtn1">1 分钟</button>
        <button onclick="switchRongTF(5)" id="rbtn5">5 分钟</button>
        <button onclick="switchRongTF(15)" id="rbtn15">15 分钟</button>
        <button onclick="switchRongTF(60)" id="rbtn60">1 小时</button>
        <button onclick="switchRongTF(1440)" id="rbtn1440">日线</button>
      </div>
      <div id="rongChart" class="chart"></div>
      <div class="muted">数据源：链上 PancakeSwap 池子实时价格。</div>
    </div>

    <!-- CRC 图表（推导 USDT 价格 + 模拟成交量） -->
    <div class="box">
      <div class="label">CRC 实时行情图（推导 USDT 价格）</div>
      <div class="timeframe-buttons" id="cfBtns">
        <button onclick="switchCrcTF(1)" id="cbtn1">1 分钟</button>
        <button onclick="switchCrcTF(5)" id="cbtn5">5 分钟</button>
        <button onclick="switchCrcTF(15)" id="cbtn15">15 分钟</button>
        <button onclick="switchCrcTF(60)" id="cbtn60">1 小时</button>
        <button onclick="switchCrcTF(1440)" id="cbtn1440">日线</button>
      </div>
      <div id="crcChart" class="chart"></div>
      <div id="crcVolume" class="chart" style="height:150px;"></div>
      <div class="muted">⚠️ 此图基于链上 RONG/USDT 与 RONG/CRC 推导，不代表真实成交量。</div>
    </div>

    <div class="admin-box">
      <div class="label">管理员功能</div>
      <button onclick="goAdmin()">进入管理后台</button>
    </div>
  </div>

  <div class="navbar">
    <div class="nav-item">首页</div>
    <div class="nav-item">拼团</div>
    <div class="nav-item">赚币</div>
    <div class="nav-item">兑换</div>
    <div class="nav-item">我的</div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
  <script src="app.js"></script>
</body>
</html>
